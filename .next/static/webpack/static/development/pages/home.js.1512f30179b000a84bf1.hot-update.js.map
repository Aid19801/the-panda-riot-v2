{"version":3,"file":"static/webpack/static/development/pages/home.js.1512f30179b000a84bf1.hot-update.js","sources":["webpack:///./HOCs/with-auth.js"],"sourcesContent":["import React from 'react';\nimport { withFirebase } from '.';\nimport * as cache from '../lib/cache';\nimport { Router } from 'next/router';\n\nconst withAuthentication = Component => {\n    class withAuthentication extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n              authUser: null,\n            }\n        }\n\n        componentDidMount() {\n            this.listener = this.props.firebase.auth.onAuthStateChanged(authUser => {\n              authUser\n                ? this.ifAuthSaveToCache(authUser)\n                : this.ifNotAuthRouteToSignIn()\n            });\n            // this.ifNotAuthRouteToSignIn();\n        }\n\n\n        ifNotAuthRouteToSignIn = () => {\n            this.setState({\n                authUser: null,\n            });\n            Router.push('/signin');\n        }\n\n        ifAuthSaveToCache = (authUser) => {\n            this.setState({ authUser });\n            return cache.saveToCache('uid', authUser.uid);\n        }\n\n        componentWillUnmount() {\n            this.listener();\n        }\n\n        signOut = () => {\n            cache.clearFromCache('uid', '');\n            Router.push('/signin')\n        }\n\n        \n\n        render() {\n            const { authUser } = this.state;\n            return <Component {...this.props} authUser={authUser} signOut={this.signOut}/>\n        }\n    }\n\n    return withFirebase(withAuthentication);\n};\n\nexport default withAuthentication;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAkBA;AACA;AADA;AACA;AAEA;AACA;AACA;AAvBA;AAyBA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AA5BA;AAkCA;AACA;AACA;AACA;AAnCA;AACA;AADA;AAFA;AAKA;AACA;AARA;AAAA;AAAA;AASA;AACA;AAAA;AACA;AAGA;AAEA;AAhBA;AAAA;AAAA;AAgCA;AACA;AAjCA;AAAA;AAAA;AA0CA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA7CA;AACA;AADA;AAAA;AACA;AA+CA;AACA;AACA;AACA;;;;A","sourceRoot":""}