{"version":3,"file":"static/webpack/static/development/pages/home.js.91bf7f2c9a4d3211c754.hot-update.js","sources":["webpack:///./HOCs/Session/with-authorization.js"],"sourcesContent":["import React from 'react';\n// import { withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport Router from 'next/router';\n\nimport { withFirebase } from '../';\n// import * as ROUTES from '../../constants/routes';\nimport { AuthUserContext } from '.';\n\nconst withAuthorization = condition => Component => {\n  class WithAuthorization extends React.Component {\n      \n    componentDidMount() {\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\n        authUser => {\n            console.log('authUser ', authUser);\n          if (!condition(authUser)) {\n            Router.push('/signin');\n          }\n        },\n      );\n    }\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n    render() {\n      return (\n        <AuthUserContext.Consumer>\n          { authUser => \n            condition(authUser) ? <Component {...this.props} /> : null\n          }\n        </AuthUserContext.Consumer>\n      );\n    }\n  }\n\n  return compose(\n    // withRouter,\n    withFirebase,\n  )(WithAuthorization);\n};\n\nexport default withAuthorization;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAIA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAZA;AAAA;AAAA;AAeA;AACA;AAhBA;AAAA;AAAA;AAkBA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAKA;AA1BA;AACA;AADA;AAAA;AACA;AA4BA;AAEA;AAEA;AAjCA;AACA;AAkCA;;;;A","sourceRoot":""}