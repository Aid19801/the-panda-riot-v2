{"version":3,"file":"static/webpack/static/development/pages/home.js.234888d95411f2ec6289.hot-update.js","sources":["webpack:///./HOCs/Session/with-authorization.js"],"sourcesContent":["import React from 'react';\n// import { withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\n\nimport { withFirebase } from '../';\n// import * as ROUTES from '../../constants/routes';\nimport { AuthUserContext } from '.';\n\nconst withAuthorization = condition => Component => {\n  class WithAuthorization extends React.Component {\n      \n    componentDidMount() {\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\n        authUser => {\n            console.log('authUser ', authUser);\n          if (!condition(authUser)) {\n              console.log('hh?')\n            this.props.history.push('/signin');\n          }\n        },\n      );\n    }\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n    render() {\n      return (\n        <AuthUserContext.Consumer>\n          { authUser => \n            condition(authUser) ? <Component {...this.props} /> : null\n          }\n        </AuthUserContext.Consumer>\n      );\n    }\n  }\n\n  return compose(\n    // withRouter,\n    withFirebase,\n  )(WithAuthorization);\n};\n\nexport default withAuthorization;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAGA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAbA;AAAA;AAAA;AAgBA;AACA;AAjBA;AAAA;AAAA;AAmBA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAKA;AA3BA;AACA;AADA;AAAA;AACA;AA6BA;AAEA;AAEA;AAlCA;AACA;AAmCA;;;;A","sourceRoot":""}